{"ast":null,"code":"var _jsxFileName = \"E:\\\\web_ungdung\\\\frontend\\\\src\\\\views\\\\Home\\\\Components\\\\UploadImage\\\\UploadImage.js\";\nimport React, { useState } from 'react';\nimport { Upload, Icon, Modal } from 'antd';\n\nfunction getBase64(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n\n    reader.onload = () => resolve(reader.result);\n\n    reader.onerror = error => reject(error);\n  });\n} // const UploadImage = () => {\n//     const [previewVisible, setPreviewVisible] = useState(false);\n//     const [previewImage, setPreviewImage] = useState('');\n//     const [fileList, setFileList] = useState([]);\n//     const handleCancel = () => setPreviewVisible(false);\n//     const handlePreview = async file => {\n//         if (!file.url && !file.preview) {\n//             file.preview = await getBase64(file.originFileObj);\n//         }\n//         setPreviewImage(file.url || file.preview);\n//         setPreviewVisible(true);\n//     };\n//     const handleChange = ({ fileList }) => setFileList(fileList);\n//     const uploadButton = (\n//         <div>\n//             <Icon type=\"plus\" />\n//             <div className=\"ant-upload-text\">Upload</div>\n//         </div>\n//     );\n//     return (\n//         <div className=\"clearfix\">\n//             <Upload\n//                 action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n//                 listType=\"picture-card\"\n//                 fileList={fileList}\n//                 onPreview={handlePreview}\n//                 onChange={handleChange}\n//             >\n//                 {fileList.length >= 8 ? null : uploadButton}\n//             </Upload>\n//             <Modal\n//                 visible={previewVisible}\n//                 footer={null}\n//                 onCancel={handleCancel}\n//             >\n//                 <img\n//                     alt=\"example\"\n//                     style={{ width: '100%' }}\n//                     src={previewImage}\n//                 />\n//             </Modal>\n//         </div>\n//     );\n// }\n\n\nclass UploadImage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      previewVisible: false,\n      previewImage: '',\n      fileList: []\n    };\n\n    this.handleCancel = () => this.setState({\n      previewVisible: false\n    });\n\n    this.handlePreview = async file => {\n      if (!file.url && !file.preview) {\n        file.preview = await getBase64(file.originFileObj);\n      }\n\n      this.setState({\n        previewImage: file.url || file.preview,\n        previewVisible: true\n      });\n    };\n\n    this.handleChange = ({\n      fileList\n    }) => {\n      console.log(fileList); //this.setState({ fileList })\n    };\n  }\n\n  render() {\n    const {\n      previewVisible,\n      previewImage,\n      fileList\n    } = this.state;\n    const uploadButton = React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"ant-upload-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Upload\"));\n    return React.createElement(\"div\", {\n      className: \"clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(Upload, {\n      action: \"https://www.mocky.io/v2/5cc8019d300000980a055e76\",\n      listType: \"picture-card\",\n      fileList: fileList,\n      onPreview: this.handlePreview,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, fileList.length >= 8 ? null : uploadButton), React.createElement(Modal, {\n      visible: previewVisible,\n      footer: null,\n      onCancel: this.handleCancel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"example\",\n      style: {\n        width: '100%'\n      },\n      src: previewImage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default UploadImage;","map":{"version":3,"sources":["E:/web_ungdung/frontend/src/views/Home/Components/UploadImage/UploadImage.js"],"names":["React","useState","Upload","Icon","Modal","getBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","UploadImage","Component","state","previewVisible","previewImage","fileList","handleCancel","setState","handlePreview","url","preview","originFileObj","handleChange","console","log","render","uploadButton","length","width"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Upload, Icon, Modal } from 'antd';\r\n\r\nfunction getBase64(file) {\r\n    return new Promise((resolve, reject) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => resolve(reader.result);\r\n        reader.onerror = error => reject(error);\r\n    });\r\n}\r\n\r\n// const UploadImage = () => {\r\n//     const [previewVisible, setPreviewVisible] = useState(false);\r\n//     const [previewImage, setPreviewImage] = useState('');\r\n//     const [fileList, setFileList] = useState([]);\r\n\r\n//     const handleCancel = () => setPreviewVisible(false);\r\n\r\n//     const handlePreview = async file => {\r\n//         if (!file.url && !file.preview) {\r\n//             file.preview = await getBase64(file.originFileObj);\r\n//         }\r\n//         setPreviewImage(file.url || file.preview);\r\n//         setPreviewVisible(true);\r\n//     };\r\n\r\n//     const handleChange = ({ fileList }) => setFileList(fileList);\r\n\r\n//     const uploadButton = (\r\n//         <div>\r\n//             <Icon type=\"plus\" />\r\n//             <div className=\"ant-upload-text\">Upload</div>\r\n//         </div>\r\n//     );\r\n//     return (\r\n//         <div className=\"clearfix\">\r\n//             <Upload\r\n//                 action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n//                 listType=\"picture-card\"\r\n//                 fileList={fileList}\r\n//                 onPreview={handlePreview}\r\n//                 onChange={handleChange}\r\n//             >\r\n//                 {fileList.length >= 8 ? null : uploadButton}\r\n//             </Upload>\r\n//             <Modal\r\n//                 visible={previewVisible}\r\n//                 footer={null}\r\n//                 onCancel={handleCancel}\r\n//             >\r\n//                 <img\r\n//                     alt=\"example\"\r\n//                     style={{ width: '100%' }}\r\n//                     src={previewImage}\r\n//                 />\r\n//             </Modal>\r\n//         </div>\r\n//     );\r\n// }\r\nclass UploadImage extends React.Component {\r\n    state = {\r\n        previewVisible: false,\r\n        previewImage: '',\r\n        fileList: [\r\n        ]\r\n    };\r\n\r\n    handleCancel = () => this.setState({ previewVisible: false });\r\n\r\n    handlePreview = async file => {\r\n        if (!file.url && !file.preview) {\r\n            file.preview = await getBase64(file.originFileObj);\r\n        }\r\n\r\n        this.setState({\r\n            previewImage: file.url || file.preview,\r\n            previewVisible: true\r\n        });\r\n    };\r\n\r\n    handleChange = ({ fileList }) => {\r\n        console.log(fileList)\r\n        //this.setState({ fileList })\r\n    };\r\n\r\n    render() {\r\n        const { previewVisible, previewImage, fileList } = this.state;\r\n        const uploadButton = (\r\n            <div>\r\n                <Icon type=\"plus\" />\r\n                <div className=\"ant-upload-text\">Upload</div>\r\n            </div>\r\n        );\r\n        return (\r\n            <div className=\"clearfix\">\r\n                <Upload\r\n                    action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n                    listType=\"picture-card\"\r\n                    fileList={fileList}\r\n                    onPreview={this.handlePreview}\r\n                    onChange={this.handleChange}\r\n                >\r\n                    {fileList.length >= 8 ? null : uploadButton}\r\n                </Upload>\r\n                <Modal\r\n                    visible={previewVisible}\r\n                    footer={null}\r\n                    onCancel={this.handleCancel}\r\n                >\r\n                    <img\r\n                        alt=\"example\"\r\n                        style={{ width: '100%' }}\r\n                        src={previewImage}\r\n                    />\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default UploadImage;"]},"metadata":{},"sourceType":"module"}